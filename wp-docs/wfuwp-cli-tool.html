<!-- wp:heading -->
<h1 class="wp-block-heading">WFU WordPress CLI Tool</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The WFU WordPress CLI tool provides a comprehensive set of commands to manage WordPress environments, EC2 instances, and AWS resources. Instead of manually running complex AWS CLI commands, you can now use simple, validated commands with built-in safety features.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Installation</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Just run this one command:<br /><code>npm install -g wfuwp</code></p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>To update to the latest version:</strong><br /><code>npm update -g wfuwp</code></p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p>Prerequisites:</p>
<!-- /wp:paragraph -->



<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>Node.js (most of you already have this)</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>AWS CLI installed and configured with your WFU credentials</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Available Commands</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>Environments supported</strong>: dev, uat, pprd, prod</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Command Reference</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>**[migrate](migrate.md)** - Complete WordPress multisite database migration with automated export/import/archival</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**[config](config.md)** - Multi-environment configuration management with interactive wizard  </li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**[syncs3](syncs3.md)** - Sync S3 assets (uploads, media files, etc.) between WordPress environments</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**[listips](listips.md)** - Display IP addresses of running EC2 instances in specified environments</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**[sshaws](sshaws.md)** - SSH into EC2 instances with automatic key management and connection handling</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**[spoof/unspoof](spoof-unspoof.md)** - DNS spoofing for testing sites before DNS changes take effect</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**[removehostkey](removehostkey.md)** - Clean up SSH host keys when EC2 IP addresses change</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**[md2wpblock](md2wpblock.md)** - Convert Markdown files to WordPress block editor HTML format</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Safety Features</h2>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>**Input validation** - Validates all environment names, site IDs, and file paths</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**Confirmation prompts** - Asks before making changes (can be skipped with --force or --yes)</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**Dry run mode** - Preview changes with --dry-run before running for real</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**AWS CLI checks** - Verifies your AWS setup before attempting operations</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**File existence validation** - Checks for required files (SSH keys, known_hosts) before proceeding</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>**Error handling** - Clear error messages with suggestions for resolution</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Getting Help</h2>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp --help                # General help and command list
wfuwp <command> --help      # Specific command help
wfuwp --version             # Check current version</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Staying Updated</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>Check for updates:</strong><br />Run <code>wfuwp --version</code> and compare with the latest version on <a href="https://www.npmjs.com/package/wfuwp">npm</a>.</p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>Update to latest version:</strong><br /><code>npm update -g wfuwp</code></p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>When new features are added:</strong><br />New commands and options are regularly added. After updating, run <code>wfuwp --help</code> to see all available commands, or check this documentation page for the latest features and examples.</p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>Command-specific help examples:</strong></p>
<!-- /wp:paragraph -->



<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>`wfuwp syncs3 --help`</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>`wfuwp listips --help`</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>`wfuwp sshaws --help`</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>`wfuwp removehostkey --help`</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>`wfuwp spoof --help`</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>`wfuwp unspoof --help`</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>`wfuwp md2wpblock --help`</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Common Workflows</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>Deploying changes to production:</strong></p>
<!-- /wp:paragraph -->



<!-- wp:code -->
<pre class="wp-block-code"><code># 1. List instances to verify environment
wfuwp listips prod

# 2. Preview the sync operation
wfuwp syncs3 43 uat prod --dry-run

# 3. Perform the actual sync
wfuwp syncs3 43 uat prod</code></pre>
<!-- /wp:code -->



<!-- wp:paragraph -->
<p><strong>Troubleshooting SSH connections:</strong></p>
<!-- /wp:paragraph -->



<!-- wp:code -->
<pre class="wp-block-code"><code># 1. Check instance IPs
wfuwp listips uat --public

# 2. Clean up old host keys
wfuwp removehostkey uat

# 3. Test SSH connection
wfuwp sshaws uat --dry-run</code></pre>
<!-- /wp:code -->



<!-- wp:paragraph -->
<p><strong>Testing a site before DNS changes:</strong></p>
<!-- /wp:paragraph -->



<!-- wp:code -->
<pre class="wp-block-code"><code># 1. Spoof DNS for testing
sudo wfuwp spoof newsite

# 2. Test your site at newsite.wfu.edu
# (Visit the site in your browser to verify it works)

# 3. Remove spoofing when done
sudo wfuwp unspoof</code></pre>
<!-- /wp:code -->



<!-- wp:paragraph -->
<p><strong>Converting documentation for WordPress:</strong></p>
<!-- /wp:paragraph -->



<!-- wp:code -->
<pre class="wp-block-code"><code># 1. Update your markdown documentation
# Edit your .md files in wp-docs/ directory

# 2. Convert to WordPress block HTML
wfuwp md2wpblock wp-docs/

# 3. Copy the generated .html files to WordPress
# Upload or paste the HTML into WordPress block editor</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Troubleshooting</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>AWS-related errors:</strong><br />Make sure your AWS CLI is configured: <code>aws configure list</code></p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>SSH connection issues:</strong><br />Clean up old host keys: <code>wfuwp removehostkey <environment></code><br />Check your SSH key permissions: <code>ls -la ~/.ssh/</code></p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>Permission errors:</strong><br />If your AWS keys have expired, <a href="https://web.dev.wfu.edu/2025/03/regenerating-aws-credentials/">follow this guide to refresh them</a>.</p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p>The tool uses the same S3 buckets, EC2 instances, and permissions you already have - it's just a safer, easier way to manage your WordPress environments and AWS resources.</p>
<!-- /wp:paragraph -->