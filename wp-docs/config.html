<!-- wp:heading -->
<h1 class="wp-block-heading">config - Configuration Management</h1>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Multi-environment configuration management with interactive wizard for setting up database connections, S3 backups, and other tool settings.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Overview</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The config command manages all configuration settings for the WFU WordPress CLI tool, including database connections for multiple environments, migration settings, S3 configuration, and backup preferences.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Usage</h2>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config <subcommand> [options]</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Subcommands</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">wizard - Interactive Configuration Setup</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config wizard</code></pre>
<!-- /wp:code -->

<!-- wp:paragraph -->
<p>Interactive wizard that guides you through complete tool configuration. Recommended for first-time setup.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">set - Set Configuration Values</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config set <key> <value></code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">get - Get Configuration Values</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config get <key></code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">verify - Verify Configuration</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config verify</code></pre>
<!-- /wp:code -->

<!-- wp:paragraph -->
<p>Tests database connections and validates all configuration settings.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">list - List All Configuration</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config list</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Configuration Structure</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Environment Database Connections</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code># Production environment
wfuwp config set env.prod.host prod-db.wfu.edu
wfuwp config set env.prod.user wp_user
wfuwp config set env.prod.password secure_password
wfuwp config set env.prod.database wp_prod

# UAT environment
wfuwp config set env.uat.host uat-db.wfu.edu
wfuwp config set env.uat.user wp_user
wfuwp config set env.uat.password secure_password
wfuwp config set env.uat.database wp_uat

# Pre-production environment
wfuwp config set env.pprd.host pprd-db.wfu.edu
wfuwp config set env.pprd.user wp_user
wfuwp config set env.pprd.password secure_password
wfuwp config set env.pprd.database wp_pprd

# Development environment
wfuwp config set env.dev.host dev-db.wfu.edu
wfuwp config set env.dev.user wp_user
wfuwp config set env.dev.password secure_password
wfuwp config set env.dev.database wp_dev</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Migration Database</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config set migration.host migration-db.wfu.edu
wfuwp config set migration.user wp_migration_user
wfuwp config set migration.password migration_password
wfuwp config set migration.database wp_migration</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">S3 Configuration (Optional)</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config set s3.bucket wfu-wp-backups
wfuwp config set s3.region us-east-1
wfuwp config set s3.prefix backups/</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Local Backup Configuration (Alternative to S3)</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config set backup.localPath /path/to/local/backups</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Examples</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Complete Setup with Wizard</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code>wfuwp config wizard</code></pre>
<!-- /wp:code -->

<!-- wp:paragraph -->
<p>The wizard will prompt you for all necessary configuration values.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Manual Configuration</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code># Set production database
wfuwp config set env.prod.host prod-db.wfu.edu
wfuwp config set env.prod.database wp_multisite

# Set migration database
wfuwp config set migration.host migration-db.wfu.edu
wfuwp config set migration.database wp_migration

# Configure S3 backups
wfuwp config set s3.bucket wfu-wp-backups
wfuwp config set s3.region us-east-1

# Verify everything is working
wfuwp config verify</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Check Current Settings</h3>
<!-- /wp:heading -->

<!-- wp:code -->
<pre class="wp-block-code"><code># View all configuration
wfuwp config list

# Check specific setting
wfuwp config get env.prod.host

# Verify database connections
wfuwp config verify</code></pre>
<!-- /wp:code -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Security Features</h2>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li><strong>Password encryption</strong> - Database passwords are encrypted before storage</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li><strong>Secure storage</strong> - Configuration stored in <code>~/.wfuwp/config.json</code> with restricted permissions</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li><strong>No plain text passwords</strong> - Encrypted configuration prevents accidental exposure</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li><strong>Environment isolation</strong> - Each environment has separate, isolated configuration</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Configuration File Location</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The configuration is stored in:</p>
<!-- /wp:paragraph -->

<!-- wp:code -->
<pre class="wp-block-code"><code>~/.wfuwp/config.json</code></pre>
<!-- /wp:code -->



<!-- wp:paragraph -->
<p>This file contains encrypted passwords and should not be shared or committed to version control.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Validation</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>The <code>verify</code> subcommand tests:</p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>Database connectivity for all configured environments</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Migration database accessibility</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>S3 bucket permissions (if configured)</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>AWS CLI configuration</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Configuration file integrity</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Required vs Optional Settings</h2>
<!-- /wp:heading -->

<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Required for Basic Operations</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>At least one environment database configuration</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Migration database configuration (for migrate command)</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":3} -->
<h3 class="wp-block-heading">Optional Settings</h3>
<!-- /wp:heading -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>S3 configuration (enables cloud archival)</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Local backup path (alternative to S3)</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>All four environments (dev, uat, pprd, prod)</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Environment Variables</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p>Configuration can also be provided via environment variables:</p>
<!-- /wp:paragraph -->

<!-- wp:code -->
<pre class="wp-block-code"><code>export WFUWP_ENV_PROD_HOST=prod-db.wfu.edu
export WFUWP_ENV_PROD_DATABASE=wp_multisite
export WFUWP_MIGRATION_HOST=migration-db.wfu.edu</code></pre>
<!-- /wp:code -->



<!-- wp:paragraph -->
<p>Environment variables take precedence over configuration file settings.</p>
<!-- /wp:paragraph -->



<!-- wp:heading {"level":2} -->
<h2 class="wp-block-heading">Troubleshooting</h2>
<!-- /wp:heading -->

<!-- wp:paragraph -->
<p><strong>Configuration file not found:</strong>
Run <code>wfuwp config wizard</code> to create initial configuration.</p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>Database connection failures:</strong></p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>Verify host, port, and credentials with <code>wfuwp config verify</code></li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Check network connectivity to database servers</li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Ensure database users have required permissions</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:paragraph -->
<p><strong>Permission errors:</strong>
Configuration file permissions may be too restrictive. The tool will attempt to fix permissions automatically.</p>
<!-- /wp:paragraph -->



<!-- wp:paragraph -->
<p><strong>S3 configuration issues:</strong></p>
<!-- /wp:paragraph -->

<!-- wp:list -->
<ul class="wp-block-list"><!-- wp:list-item -->
<li>Verify AWS CLI is configured: <code>aws configure list</code></li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Test S3 access: <code>aws s3 ls s3://your-bucket-name</code></li>
<!-- /wp:list-item --><!-- wp:list-item -->
<li>Check bucket region matches configuration</li>
<!-- /wp:list-item --></ul>
<!-- /wp:list -->



<!-- wp:paragraph -->
<p>For detailed help on any subcommand: <code>wfuwp config <subcommand> --help</code></p>
<!-- /wp:paragraph -->